apply from: 'dependency.gradle'

libs = rootProject.ext.libs

// parent and child project all use this config
allprojects {
  apply plugin: 'java'
  apply plugin: 'maven'

  group = 'com.github.kuangcp'


  // default build dir is build/ but idea compile dir is out/, i'm dislike this way
  // dir out/ just have production/ and test/ dir
  buildDir = 'out/build'

  sourceCompatibility = 1.8
  targetCompatibility = 1.8

  repositories {
    mavenLocal()

    def aliYun = "http://maven.aliyun.com/nexus/content/groups/public/"
    def abroad = "http://central.maven.org/maven2/"
    maven {
      url = aliYun
      artifactUrls abroad
    }
    maven {
      url = "https://gitee.com/gin9/MavenRepos/raw/master"
    }
    jcenter()
  }
  
  // All sub-modules add the following dependencies
  dependencies {
    
    annotationProcessor rootProject.libs['lombok']
    compileOnly rootProject.libs['lombok']
    testAnnotationProcessor rootProject.libs['lombok']
    testCompileOnly rootProject.libs['lombok']

    implementation rootProject.libs['logback-classic']
    implementation rootProject.libs['kcp-tool']

    testImplementation rootProject.libs['junit']
    testImplementation rootProject.libs['hamcrest-core']
    testImplementation rootProject.libs['hamcrest-lib']
  }
}
